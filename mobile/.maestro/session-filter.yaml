appId: com.subroutine.workspace
---
# Test: Session Screen and Filter
# Verifies sessions screen loads and filter works when connected

- launchApp:
    clearState: true

# Wait for app to load then navigate to Sessions
- extendedWaitUntil:
    visible: "Sessions"
    timeout: 10000

- tapOn: "Sessions"

# Handle error state when server unreachable
- runFlow:
    when:
      visible: "Cannot Load Sessions"
    commands:
      - assertVisible: "Retry"

# Test filter when connected
- runFlow:
    when:
      visible: "Filter by agent:"
    commands:
      - assertVisible: "All Agents"
      - tapOn: "All Agents"
      - assertVisible: "Claude Code"
      - assertVisible: "OpenCode"
      - tapOn: "Claude Code"
      - assertVisible: "Claude Code"

# Navigate back to verify everything still works
- tapOn: "Workspaces"
- assertVisible: "Workspaces"
